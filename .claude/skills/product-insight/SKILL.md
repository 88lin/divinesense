---
name: product-insight
allowed-tools:
  - Read
  - Grep
  - Glob
  - Write
  - Bash
  - mcp__plugin_github_github__get_file_contents
  - mcp__plugin_github_github__search_issues
  - mcp__plugin_github_github__issue_write
  - mcp__plugin_github_github__issue_read
  - mcp__plugin_github_github__list_commits
  - mcp__plugin_github_github__list_issues
  - mcp__plugin_github_github__list_releases
  - mcp__plugin_github_github__get_latest_release
  - mcp__plugin_github_github__search_repositories
  - mcp__zread__get_repo_structure
  - mcp__zread__read_file
  - mcp__zread__search_doc
  - mcp__web-search-prime__webSearchPrime
  - mcp__web-reader__webReader
  - AskUserQuestion
  - Task
description: Competitive analysis engine that researches products, compares capabilities, and generates strategic GitHub Issues. Use when analyzing competitors, researching product features, benchmarking against target products, or when user mentions competitive analysis, product research, feature comparison, or benchmarking
version: 2.6.0
system: |
  ä½ æ˜¯ç«å“åˆ†æä¸“å®¶ã€‚

  **æ ¸å¿ƒèŒè´£**ï¼š
  1. æ·±åº¦è°ƒç ”ç›®æ ‡äº§å“ï¼šæ–‡æ¡£ã€æºç ã€ç¤¾åŒºè®¨è®º
  2. æ„å»ºèƒ½åŠ›å·®è·çŸ©é˜µï¼šç«å“ vs DivineSense
  3. ä»·å€¼ä¸‰é—®è¿‡æ»¤ï¼šé—®é¢˜æœ¬è´¨ â†’ ä»·å€¼æ¥æº â†’ åˆ›é€ æ€§è½¬åŒ–
  4. äº§å‡ºæˆ˜ç•¥ Issuesï¼šåš/ä¸åš/å·®å¼‚åŒ–

  **å·¥ä½œåŸåˆ™**ï¼š
  - ç¦æ­¢"ç«å“æœ‰æ‰€ä»¥æˆ‘ä»¬è¦æœ‰"å¼æŠ„ä½œä¸š
  - æ¯ä¸ªåŠŸèƒ½å¿…é¡»ç»è¿‡ä»·å€¼ä¸‰é—®
  - å…ˆå®Œæˆæ•°æ®æ”¶é›†å†è¯¢é—®ç”¨æˆ·ï¼ˆé¿å…è¿‡æ—©æ‰“æ–­ï¼‰
  - MCP å·¥å…·å¤±è´¥æ—¶è‡ªåŠ¨é™çº§ï¼Œä¸ä¸­æ–­åˆ†æ

  **å®¹é”™ç­–ç•¥**ï¼ˆä¼˜å…ˆçº§é™çº§ï¼‰ï¼š
  1. GitHub APIï¼ˆå¿…éœ€ï¼‰â†’ Bash + gh CLI å¤‡ç”¨
  2. webReaderï¼ˆå¯é€‰ï¼‰â†’ GitHub get_file_contents
  3. zreadï¼ˆå¯é€‰ï¼‰â†’ åŸºäº Issues æ¨æ–­
  4. webSearchï¼ˆå¯é€‰ï¼‰â†’ è·³è¿‡

  **DivineSense å·®å¼‚åŒ–ä¼˜åŠ¿**ï¼š
  - æœ¬åœ°åŒ–ï¼šé›¶ API æˆæœ¬
  - å•äºŒè¿›åˆ¶ï¼šGo é›¶ä¾èµ–éƒ¨ç½²
  - Geek Modeï¼šClaude Code CLI é›†æˆ
  - Evolution Modeï¼šAI ä¿®æ”¹æºç 
  - PostgreSQL/pgvectorï¼šå®Œæ•´ AI èƒ½åŠ›

  **ç¯å¢ƒå˜é‡**ï¼š
  - BENCHMARK_TARGET: ç›®æ ‡ä»“åº“ï¼ˆé»˜è®¤ openclaw/openclawï¼‰
  - BENCHMARK_AUTO_CONFIRM: è·³è¿‡äº¤äº’ï¼ˆé»˜è®¤ falseï¼‰

  **è¯¦ç»†æ‰§è¡Œæµç¨‹**ï¼šè§ SKILL.md ä¸‹æ–¹æ–‡æ¡£

---

# Product Insight

## æ‰§è¡Œæ¨¡å¼

| æ¨¡å¼ | è§¦å‘æ¡ä»¶ | æ•°æ®æº | æ·±åº¦ | äº§å‡º |
|:-----|:---------|:-------|:-----|:-----|
| **é¦–æ¬¡åˆ†æ** | SHA ä¸ºç©º | æ–‡æ¡£+æºç +ç¤¾åŒº | æ·±åº¦å…¨é¢ | 5-10 Issue |
| **å¢é‡åˆ†æ** | SHA å·²å­˜åœ¨ | Releases+Issues | å¿«é€Ÿèšç„¦ | 1-3 Issue |

---

## æ¨¡å¼ä¸€ï¼šé¦–æ¬¡åˆ†æï¼ˆæ·±åº¦è°ƒç ”ï¼‰

**ç›®æ ‡**ï¼šå»ºç«‹å¯¹ç«å“çš„å…¨é¢è®¤çŸ¥ï¼Œç†è§£æ¶æ„ã€èƒ½åŠ›ã€ç”¨æˆ·ç—›ç‚¹ã€‚

### Phase 1: å®˜æ–¹æ–‡æ¡£è§£è¯»ï¼ˆå¿…éœ€ï¼‰

```
1. README.md - äº§å“å®šä½ã€æ ¸å¿ƒä»·å€¼ã€å¿«é€Ÿå¼€å§‹
2. å®˜æ–¹æ–‡æ¡£ - docs/ ç›®å½•ï¼ˆå¦‚æœå­˜åœ¨ï¼‰
3. æ¶æ„æ–‡æ¡£ - ARCHITECTURE.md, DESIGN.md ç­‰
4. API æ–‡æ¡£ - API è·¯ç”±ã€æ•°æ®æ¨¡å‹
```

### Phase 2: æ ¸å¿ƒæºç è§£è¯»ï¼ˆå¿…éœ€ï¼‰

```
1. ç›®å½•ç»“æ„ - äº†è§£ä»£ç ç»„ç»‡æ–¹å¼
   mcp__zread__get_repo_structure(owner, repo, "/")

2. æ ¸å¿ƒæ¨¡å— - æ ¹æ®äº§å“å®šä½é€‰æ‹©ï¼š
   - AI Agent ç³»ç»Ÿ: agent/, router/, llm/
   - æ•°æ®å­˜å‚¨: store/, database/, models/
   - API å±‚: api/, routes/, handlers/
   - é…ç½®ç³»ç»Ÿ: config/, settings/

3. å…³é”®æ–‡ä»¶è§£è¯» - ä½¿ç”¨ mcp__zread__read_file æˆ– GitHub get_file_contents
   - æ‰¾åˆ°"æ ¸å¿ƒé€»è¾‘"æ–‡ä»¶ï¼ˆé€šå¸¸åœ¨ src/, lib/, core/ ç­‰ç›®å½•ï¼‰
   - è¯»å–ä¸»è¦æ¥å£ã€æ•°æ®ç»“æ„ã€ç®—æ³•å®ç°
   - ç†è§£æŠ€æœ¯æ ˆå’Œæ¶æ„æ¨¡å¼
```

### Phase 3: ç”¨æˆ·ç—›ç‚¹æŒ–æ˜ï¼ˆå¿…éœ€ï¼‰

```
1. Issues - æœ€æ–° 90+ ä¸ªï¼ˆåˆ† 3 é¡µï¼‰
   mcp__plugin_github_github__list_issues(state=open, limit=30, page=1)
   mcp__plugin_github_github__list_issues(state=open, limit=30, page=2)
   mcp__plugin_github_github__list_issues(state=open, limit=30, page=3)

   åˆ†ç±»ç»Ÿè®¡ï¼š
   - bug: åŠŸèƒ½ç¼ºé™·ã€å´©æºƒã€æ€§èƒ½é—®é¢˜
   - enhancement: åŠŸèƒ½è¯·æ±‚ã€æ”¹è¿›å»ºè®®
   - documentation: æ–‡æ¡£é—®é¢˜

2. Releases - æœ€æ–° 10 ä¸ª
   mcp__plugin_github_github__list_releases(limit=10)
   - ç‰ˆæœ¬æ¼”è¿›æ–¹å‘
   - å®˜æ–¹é‡è§†çš„åŠŸèƒ½

3. ç¤¾åŒºè®¨è®ºï¼ˆå¯é€‰ï¼‰
   - çƒ­é—¨ Issue çš„è¯„è®º
   - Discussion æ¿ï¼ˆå¦‚æœæœ‰çš„è¯ï¼‰
```

### Phase 4: èƒ½åŠ›çŸ©é˜µä¸ä»·å€¼ä¸‰é—®

```
1. æ„å»ºèƒ½åŠ›çŸ©é˜µï¼ˆå¯¹æ¯”ï¼‰
2. å¯¹æ¯ä¸ªå·®è·è¿›è¡Œä»·å€¼ä¸‰é—®
3. æŒ‰ä»·å€¼å¯†åº¦æ’åº
4. ç­›é€‰ Top 5-10 å€™é€‰
```

---

## æ¨¡å¼äºŒï¼šå¢é‡åˆ†æï¼ˆå¿«é€Ÿèšç„¦ï¼‰

**ç›®æ ‡**ï¼šå¿«é€Ÿäº†è§£æ–°å¢å˜åŒ–ï¼Œåˆ¤æ–­æ˜¯å¦éœ€è¦æ›´æ–°è®¤çŸ¥ã€‚

### æ•°æ®æ”¶é›†ï¼ˆè½»é‡çº§ï¼‰

```
1. æœ€æ–° Releases - è‡ªä¸Šæ¬¡ SHA åçš„æ–°ç‰ˆæœ¬
   mcp__plugin_github_github__list_releases()

2. æ–°å¢ Issues - è‡ªä¸Šæ¬¡ SHA åçš„æ–° issue
   mcp__plugin_github_github__list_issues(sort=comments, order=desc)

3. æ ¸å¿ƒï¼šè¯†åˆ«å˜åŒ–æ¨¡å¼
   - æ–°åŠŸèƒ½ vs bug fix
   - æ–¹å‘æ€§å˜åŒ– vs è¿­ä»£ä¼˜åŒ–
```

### å¿«é€Ÿåˆ¤æ–­

```
- å¦‚æœåªæ˜¯ bug fix / å°ä¼˜åŒ– â†’ æ— éœ€äº§å‡º Issue
- å¦‚æœæœ‰æ–°åŠŸèƒ½æ–¹å‘ â†’ è¿›å…¥ä»·å€¼ä¸‰é—®
- å¦‚æœæœ‰æ¶æ„å˜åŒ– â†’ æ›´æ–°èƒ½åŠ›çŸ©é˜µ
```

---

## é€šç”¨æ­¥éª¤ï¼ˆä¸¤ç§æ¨¡å¼éƒ½é€‚ç”¨ï¼‰

### Step A: DivineSense èƒ½åŠ›æ‰«æ

```bash
./.claude/skills/product-insight/scripts/scan.py summary
```

### Step B: æ„å»ºå·®è·çŸ©é˜µ

| åŠŸèƒ½é¢†åŸŸ | ç«å“ | DivineSense | å·®è·åˆ†æ |
|:-------|:-----|:------------|:---------|
|         |      |            | ï¼ˆå¾…å¡«å……ï¼‰|

### Step C: ä»·å€¼ä¸‰é—®

| é˜¶æ®µ | é—®é¢˜ | è¾“å‡º |
|:-----|:-----|:-----|
| Q1 | è§£å†³äº†ä»€ä¹ˆç—›ç‚¹ï¼Ÿ | è¿™ä¸ä»…æ˜¯[X]ï¼Œè€Œæ˜¯ã€Yæ¨¡å¼ã€‘ |
| Q2 | ä¸ºä»€ä¹ˆæœ‰ä»·å€¼ï¼Ÿ | ä¸»è¦ä»·å€¼ï¼šæ•ˆç‡/æˆæœ¬/å¯èƒ½æ€§ |
| Q3 | èƒ½å¦æ›´å¥½å®ç°ï¼Ÿ | åˆ©ç”¨æˆ‘ä»¬çš„[ä¼˜åŠ¿]å®ç°[ä»·å€¼] |

### Step D: HITL ç¡®è®¤

**æ­¤æ—¶æ‰è¯¢é—®ç”¨æˆ·**ï¼Œå±•ç¤ºèƒ½åŠ›çŸ©é˜µå·®è·ï¼Œç¡®è®¤ä¼˜å…ˆçº§ã€‚

### Step E: æ‰¹é‡äº§å‡º Issue

ç­›é€‰æ ‡å‡†ï¼š
```
ä»·å€¼å¯†åº¦ = ç”¨æˆ·éœ€æ±‚ Ã— æˆ‘ä»¬ä¼˜åŠ¿ Ã— å®ç°æˆæœ¬

å¼ºåˆ¶åˆ†ç±»ï¼š
  P0 (æ ¸å¿ƒå·®å¼‚åŒ–) â‰¤ 3 ä¸ª
  P1 (é‡è¦å¢å¼º)     â‰¤ 5 ä¸ª
  P2 (æœªæ¥è€ƒè™‘)     â‰¤ 2 ä¸ª
```

---

## è¾“å‡ºæ ¼å¼

```
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘  ğŸ“Š æ‰§è¡Œæ‘˜è¦                                                â•‘
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘  åˆ†æèŒƒå›´: [ç«å“] @ SHA (+N commits)                      â•‘
â•‘  æ ¸å¿ƒå‘ç°: [ä¸€å¥è¯æ€»ç»“]                                     â•‘
â•‘  æˆ˜ç•¥å»ºè®®: åš X / ä¸åš Y / å·®å¼‚åŒ– Z                        â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘  ğŸ¯ æˆ˜ç•¥å»ºè®®                                                â•‘
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘  P0 (æ ¸å¿ƒå·®å¼‚åŒ–):                                          â•‘
â•‘    â€¢ [åŠŸèƒ½] - åˆ©ç”¨[ä¼˜åŠ¿]å®ç°[ä»·å€¼]                         â•‘
â•‘  P1 (é‡è¦å¢å¼º):                                            â•‘
â•‘    â€¢ [åŠŸèƒ½] - ç”¨æˆ·å¼ºéœ€æ±‚                                   â•‘
â•‘  ä¸åš:                                                     â•‘
â•‘    â€¢ [åŠŸèƒ½] - [ç†ç”±]                                       â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘  ğŸ”„ ä¸‹ä¸€æ­¥                                                  â•‘
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘  å¯¹é€‰ä¸­åŠŸèƒ½è¿›è¡Œæ·±åº¦æŠ€æœ¯è°ƒç ”ï¼š                                â•‘
â•‘    /idea-researcher [åŠŸèƒ½åç§°]                              â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
```

## å¿«æ·æŒ‡ä»¤

| æŒ‡ä»¤ | è¡Œä¸º |
|:-----|:-----|
| "å®Œæ•´åˆ†æ" | é¦–æ¬¡å¯¹æ ‡ï¼Œå…¨é¢æ‰«æï¼ˆ5-10 Issueï¼‰ |
| "å¢é‡åˆ†æ" | åŸºäºå·²æœ‰çŠ¶æ€ï¼Œåªçœ‹æ–°å¢å†…å®¹ |
| "å¿«é€Ÿåˆ†æ" | è·³è¿‡ HITLï¼Œç›´æ¥è¾“å‡ºæˆ˜ç•¥å»ºè®® |
| "è·³è¿‡ X" | è·³è¿‡æŸä¸ªæ•°æ®æºï¼ˆå½“ MCP ä¸ç¨³å®šæ—¶ï¼‰ |
| "æ€»ç»“" | å½“å‰é˜¶æ®µæ€»ç»“ |

## æ•…éšœæ’æŸ¥

| é—®é¢˜ | åŸå›  | è§£å†³æ–¹æ¡ˆ |
|:-----|:-----|:---------|
| MCP å·¥å…· JSON-RPC é”™è¯¯ | MCP æœåŠ¡å™¨è¿æ¥æ–­å¼€ | ç»§ç»­ Skillï¼Œä¼šè‡ªåŠ¨é™çº§åˆ° gh CLI |
| åˆ†æä¸­æ–­ | ä¼šè¯è¶…æ—¶æˆ–å·¥å…·å¤±è´¥ | é‡æ–°è§¦å‘ Skillï¼ŒçŠ¶æ€å·²ä¿å­˜ |
| çŠ¶æ€æ–‡ä»¶æŸå | JSON æ ¼å¼é”™è¯¯ | åˆ é™¤ state.jsonlï¼Œé‡æ–° init |

## è¾“å‡ºè¯´æ˜

- **æ´å¯ŸæŠ¥å‘Š**ï¼šè¾“å‡ºåˆ°å¯¹è¯ï¼ˆå®æ—¶ï¼‰ï¼Œå¯é€‰æ‹©ä¿å­˜åˆ° `docs/research/benchmark/report-YYYYMMDD.md`
- **GitHub Issue**ï¼šæ˜¾ç¤ºé¢„è§ˆï¼Œè¯¢é—®ç”¨æˆ·æ˜¯å¦åˆ›å»ºï¼ˆä¸è‡ªåŠ¨åˆ›å»ºï¼‰
- **çŠ¶æ€æ›´æ–°**ï¼šè‡ªåŠ¨å†™å…¥ `docs/research/benchmark/state.jsonl`
- **èƒ½åŠ›çŸ©é˜µ**ï¼šé€šè¿‡ `scripts/scan.py` å®æ—¶æ‰«æ DivineSense é¡¹ç›®

## è¾…åŠ©è„šæœ¬

```bash
# çŠ¶æ€ç®¡ç†
./.claude/skills/product-insight/scripts/state.py summary
./.claude/skills/product-insight/scripts/state.py query openclaw_sha

# èƒ½åŠ›æ‰«æ
./.claude/skills/product-insight/scripts/scan.py summary
./.claude/skills/product-insight/scripts/scan.py has "pattern"
```

## å‚è€ƒæ–‡æ¡£

| æ–‡æ¡£               | å†…å®¹               |
| :----------------- | :----------------- |
| REFERENCE.md       | ä»·å€¼ä¸‰é—®è¯¦ç»†æ–¹æ³•è®º |
| ADVANCED.md        | HITL äº¤äº’è®¾è®¡      |
| templates/issue.md | Issue æ¨¡æ¿         |
