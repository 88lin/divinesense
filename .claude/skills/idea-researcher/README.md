# Idea Researcher - DivineSense 创意调研助手

> **v2.1** — 让每个产品创意都能得到深度调研和严谨设计

---

## 你是否有过这样的经历？

💭 "这个功能好像很有意思...但不知道怎么实现？"
💭 "竞品是怎么做的？有没有最佳实践可以参考？"
💭 "这个需求会不会和现有功能冲突？"
💭 "写 Issue 时总感觉描述不够清晰..."

**Idea Researcher** 就是为了解决这些问题而诞生的。

---

## 什么是 Idea Researcher？

Idea Researcher 是 DivineSense 项目的**创意调研与功能创设助手**，它能够：

- **深度理解**你的创意，从产品、技术、用户价值三个维度扩展
- **自动调研**技术可行性、竞品实现、项目上下文
- **设计方案**，包括功能边界、技术选型、风险评估
- **创建 GitHub Issue**，保存完整的调研成果

### 核心特点

| 特点 | 说明 |
|:-----|:-----|
| 🧠 **元认知评估** | 自我评估调研质量，信息不足时主动补充 |
| 🔗 **深度整合** | 理解 DivineSense 五代理系统、技术栈、设计约束 |
| 🔄 **自适应进化** | 动态发现项目变化，自动建议更新 |
| 🛡️ **错误恢复** | 链接失效、命令失败时自动降级处理 |
| 📝 **规范输出** | 生成符合项目规范的 GitHub Issue |

---

## 快速开始

### 安装

将此 skill 放置到项目的 skills 目录：

```bash
# skill 文件位置
.claude/skills/idea-researcher/SKILL.md
```

### 使用

```bash
# 启动创意调研
/idea-researcher

# 或直接描述你的 idea
/idea-researcher 我想添加一个番茄钟功能
```

---

## 工作流程

```
你的 Idea (1-2 句话)
        │
        ↓
   【理解与扩展】
   澄清需求、探索可能性
        │
        ↓
   【深度调研】
   技术可行性、竞品分析、项目上下文
        │
        ↓
   【方案设计】
   功能边界、技术方案、风险评估
        │
        ↓
   【迭代修订】
   多轮对话完善细节
        │
        ↓
   【创建 Issue】
   验证链接、生成规范 Issue
        │
        ↓
   【保存报告】
   调研成果存档
```

---

## 使用示例

### 示例 1：番茄钟功能

```
你: /idea-researcher 我想添加一个番茄钟功能

AI: ## 理解你的 Idea

**核心需求**：为 DivineSense 添加番茄钟（Pomodoro）计时功能

**关键问题**：
1. 番茄钟时长是否可自定义？（默认 25 分钟）
2. 是否需要统计功能（完成的番茄数、专注时长）？
3. 是否需要与笔记/日程集成？

你: 默认25分钟，需要统计和浏览器通知，先做基础版

AI: ## 调研报告

### 技术可行性
- **可行性评级**: 高
- **技术方案**: 纯前端实现，使用 `setInterval` 计时，`localStorage` 持久化
- **架构影响**: 无影响，新增独立模块

### 竞品/最佳实践
| 产品 | 实现方式 | 可借鉴点 |
|:-----|:---------|:---------|
| Todoist | 集成番茄钟 | 与任务关联 |
| Notion | 独立番茄钟组件 | 简洁 UI |
| Forest | 游戏化体验 | 专注统计可视化 |

你: 确认

AI: 正在创建 GitHub Issue...
✓ Issue #123 已创建
✓ 调研报告已保存到 docs/research/pomodoro-research.md
```

---

## Skill 能力详解

### 1. 项目深度理解

Skill 对 DivineSense 有深刻理解：

```
技术栈
├── 后端: Go 1.25, Echo, Connect RPC
├── 前端: React 18, Vite 7, TypeScript, Tailwind 4
├── 数据库: PostgreSQL (生产) / SQLite (开发)
└── AI: DeepSeek V3, bge-m3, bge-reranker-v2-m3

五代理系统
├── EvolutionParrot (进化) - 源代码修改 + PR
├── GeekParrot (极客) - Claude Code CLI 集成
├── MemoParrot (灰灰) - 笔记搜索
├── ScheduleParrotV2 (金刚) - 日程管理
└── AmazingParrot (惊奇) - 综合助理

设计约束
├── i18n 强制：所有 UI 文本必须双语
├── SQLite 无 AI：开发数据库不支持 AI 功能
├── 原子提交：每个 commit 只做一件事
└── PR 审查：所有变更通过 PR 合并
```

### 2. 元认知评估

每次调研后，Skill 会自我评估：

| 维度 | 评分标准 |
|:-----|:---------|
| 信息充分性 | 收集的信息是否足够支撑决策？ |
| 证据强度 | 结论是否有代码/文档证据？ |
| 逻辑一致性 | 方案各部分是否逻辑自洽？ |
| 创新度 | 方案是否有独特价值？ |
| 可实现性 | 技术方案是否符合项目约束？ |

### 3. 错误恢复

遇到问题时自动处理：

- 链接不可访问 → 移除链接 + 备注说明
- 代理信息过时 → 自动更新 + 提示用户
- 命令执行失败 → 降级到手动方案
- 用户中断 → 保存进度到临时文件

---

## 适合谁使用？

| 角色 | 使用场景 |
|:-----|:---------|
| **产品经理** | 快速评估功能可行性，生成需求文档 |
| **开发者** | 设计技术方案，评估实现复杂度 |
| **贡献者** | 提交 Issue 前完成调研，提高 PR 质量 |
| **项目维护者** | 统一功能规划，避免重复工作 |

---

## 进化路线

| 版本 | 状态 | 特性 |
|:-----|:-----|:-----|
| v2.1 | ✅ 当前 | 元认知评估、错误恢复、代理通信、会话整合 |
| v2.2 | 🚧 规划中 | 集成 EvolutionParrot 自动更新 skill |
| v2.3 | 📋 未来 | 调研进度持久化到 conversation_context 表 |
| v3.0 | 💡 愿景 | 从代码注释中提取上下文（self-documenting） |

---

## 技术架构

```
idea-researcher/
├── SKILL.md              # 主技能定义 (1150+ 行)
├── EXAMPLE.md            # 完整使用示例（番茄钟）
├── README.md             # 本文档
└── templates/
    ├── research.md       # 调研报告模板
    └── issue.md          # GitHub Issue 模板
```

**核心模块**：
- 动态上下文发现（自动检测项目变化）
- 元认知评估（质量自我监控）
- 代理协同规则（五代理系统集成）
- 错误恢复策略（降级与重试）
- 链接验证机制（确保 Issue 质量）

---

## 贡献

如果你有改进建议，欢迎：

1. 在 DivineSense 仓库提交 Issue
2. Fork 项目并提交 PR
3. 在社区讨论你的想法

---

## 致谢

Idea Researcher 由 Claude Opus 4.5 与 DivineSense 团队协作开发，经过多轮代码审查和架构优化，目前版本为 **v2.1**。

---

**让每个创意都得到它应得的深度调研。** 🚀
