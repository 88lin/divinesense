# Surgical Slim å‚è€ƒæ‰‹å†Œ v3.3

> DivineSense é¡¹ç›®ç‰¹å®šæ¨¡å¼ + SOTA åˆ†æžæ¡ˆä¾‹

---

## ç›®å½•

1. [é¡¹ç›®å…¥å£ç‚¹](#é¡¹ç›®å…¥å£ç‚¹)
2. [äº§å“åŠŸèƒ½æ˜ å°„](#äº§å“åŠŸèƒ½æ˜ å°„)
3. [SOTA åˆ†æžæ¡ˆä¾‹](#sota-åˆ†æžæ¡ˆä¾‹)
4. [é…ç½®é©±åŠ¨åŠŸèƒ½](#é…ç½®é©±åŠ¨åŠŸèƒ½)
5. [Git åŽ†å²ä¿¡å·](#git-åŽ†å²ä¿¡å·)
6. [å‰ç«¯ç»„ä»¶åˆ†æž](#å‰ç«¯ç»„ä»¶åˆ†æž)
7. [å†³ç­–è®°å½•](#å†³ç­–è®°å½•)

---

## é¡¹ç›®å…¥å£ç‚¹

å¯è¾¾æ€§åˆ†æžèµ·ç‚¹ï¼ˆ"æ ¹"èŠ‚ç‚¹ï¼‰ï¼š

```
cmd/divinesense/main.go        # æœåŠ¡ä¸»å…¥å£
cmd/test-agent/main.go         # æµ‹è¯•å…¥å£
web/src/main.tsx               # React åº”ç”¨å…¥å£
web/src/router/index.tsx       # å‰ç«¯è·¯ç”±é…ç½®
```

ä»Žè¿™äº›æ ¹å¼€å§‹è¿½è¸ªï¼Œæ‰€æœ‰å¯è¾¾çš„ä»£ç éƒ½æ˜¯"æ´»è·ƒ"çš„ã€‚

---

## äº§å“åŠŸèƒ½æ˜ å°„

| ä»£ç åŒºåŸŸ | äº§å“åŠŸèƒ½ | å½“å‰çŠ¶æ€ |
|:---------|:---------|:---------|
| `ai/agent/memo_parrot.go` | ç¬”è®° AI æœç´¢ | âœ… æ ¸å¿ƒåŠŸèƒ½ |
| `ai/agent/schedule_parrot_v2.go` | æ—¥ç¨‹ AI | âœ… æ ¸å¿ƒåŠŸèƒ½ |
| `plugin/chat_apps/` | ç¬¬ä¸‰å¹³å°é›†æˆ | âœ… æ ¸å¿ƒåŠŸèƒ½ |
| `plugin/cron/` | Cron å®šæ—¶è¯­æ³• | âŒ å·²è¢« AI æ›¿ä»£ |
| `plugin/email/` | é‚®ä»¶å¤„ç† | â“ æœªå®Œæˆè¿ç§» |
| `plugin/httpgetter/` | HTTP å†…å®¹èŽ·å– | â“ æ— äº§å“éœ€æ±‚ |

**åˆ†æžåŽŸåˆ™**ï¼šä»£ç åˆ é™¤å†³ç­–åº”åŸºäºŽäº§å“åŠŸèƒ½çŠ¶æ€ï¼Œè€Œéžç®€å•çš„å¼•ç”¨è®¡æ•°ã€‚

---

## SOTA åˆ†æžæ¡ˆä¾‹

### æ¡ˆä¾‹ 1ï¼šè¯­ä¹‰ç†è§£ vs æ¨¡å¼åŒ¹é…

**ç›®æ ‡**ï¼š`plugin/cron`

```bash
# æ¨¡å¼åŒ¹é…åˆ†æž
grep -r "plugin/cron" --include="*.go"
# ç»“æžœ: 0 å¼•ç”¨ â†’ ç»“è®º: æ­»ä»£ç 

# SOTA è¯­ä¹‰ç†è§£
1. CronParser çš„ç”¨é€”æ˜¯ä»€ä¹ˆï¼Ÿ
   â†’ è§£æž Cron è¡¨è¾¾å¼ (*/5 * * * *)

2. äº§å“ä¸­å¦‚ä½•åˆ›å»ºå®šæ—¶ä»»åŠ¡ï¼Ÿ
   â†’ ç”¨æˆ·é€šè¿‡è‡ªç„¶è¯­è¨€ï¼š"æ¯å¤©ä¸‹åˆ 5 ç‚¹æé†’æˆ‘"
   â†’ AI ä»£ç† (ScheduleParrotV2) è§£æžå¹¶åˆ›å»º

3. Cron åŠŸèƒ½æ˜¯å¦ä»åœ¨è·¯çº¿å›¾ä¸­ï¼Ÿ
   â†’ æ–‡æ¡£ä¸­æ— æåŠ
   â†’ Issue ä¸­æ— ç›¸å…³éœ€æ±‚
   â†’ ç”¨æˆ·ç•Œé¢æ—  Cron è¾“å…¥é€‰é¡¹

ç»“è®º: è¿™æ˜¯ä¸€ä¸ªè¢« AI ä»£ç†æ›¿ä»£çš„åŠŸèƒ½ï¼Œå¯å®‰å…¨åˆ é™¤
```

### æ¡ˆä¾‹ 2ï¼šå› æžœæŽ¨ç† - å­¤ç«‹å­å›¾æ£€æµ‹

**ç›®æ ‡**ï¼š`plugin/filter/`

```bash
# ç®€å•å¼•ç”¨è®¡æ•°
grep -r "plugin/filter" --include="*.go"
# ç»“æžœ: 10 å¼•ç”¨ â†’ ç»“è®º: æ´»è·ƒä»£ç ?

# SOTA å› æžœæŽ¨ç†
1. è°å¼•ç”¨äº† plugin/filter?
   â†’ plugin/filter/email_filter.go (8 å¤„)
   â†’ plugin/filter/base.go (2 å¤„)

2. è¿™äº›å¼•ç”¨æ–‡ä»¶æ˜¯å¦è¢«ä½¿ç”¨?
   â†’ email_filter.go: 0 å¤–éƒ¨å¼•ç”¨
   â†’ base.go: ä»…è¢« email_filter.go å¼•ç”¨

3. è¿™å½¢æˆäº†ä¸€ä¸ª"å­¤ç«‹å­å›¾":
   plugin/filter/
       â”œâ”€â”€ base.go â†â”€â”€â”€â”€â”€â”€â”
       â””â”€â”€ email_filter.go â”‚ (å†…éƒ¨äº’ç›¸å¼•ç”¨)
                          â””â”€â†’ æ— å¤–éƒ¨è¿žæŽ¥

ç»“è®º: æ•´ä¸ªå­å›¾æ˜¯å­¤ç«‹çš„ï¼Œå¯ä¸€èµ·åˆ é™¤
```

### æ¡ˆä¾‹ 3ï¼šæ¨¡å¼è¯†åˆ« - æœªå®Œæˆçš„è¿ç§»

**ç›®æ ‡**ï¼š`plugin/email/` vs `ai/agent/`

```
è§‚å¯Ÿåˆ°çš„æ¨¡å¼:

æ—§å®žçŽ° (plugin/email/)
â”œâ”€â”€ IMAP å®¢æˆ·ç«¯
â”œâ”€â”€ é‚®ä»¶è§£æž
â””â”€â”€ å­˜å‚¨åˆ° Memo

æ–°å®žçŽ° (ai/agent/)
â”œâ”€â”€ ??? (æ˜¯å¦å­˜åœ¨é‚®ä»¶ä»£ç†?)
â””â”€â”€ ScheduleParrotV2 (æœ‰æ—¥ç¨‹ç®¡ç†)

å‡è®¾: é‚®ä»¶åŠŸèƒ½å¯èƒ½æ˜¯è®¡åˆ’ä¸­çš„åŠŸèƒ½ï¼Œä½†æœªå®Œæˆ

éªŒè¯:
1. æ£€æŸ¥ docs/specs/ ä¸­æ˜¯å¦æœ‰é‚®ä»¶ç›¸å…³è§„æ ¼
2. æ£€æŸ¥ GitHub Issues ä¸­æ˜¯å¦æœ‰é‚®ä»¶åŠŸèƒ½éœ€æ±‚
3. æ£€æŸ¥ ai/agent/ ä¸­æ˜¯å¦æœ‰ EmailParrot

ç»“è®º: è¿™æ˜¯ä¸€ä¸ª"æœªç«Ÿä¹‹äº‹"ï¼ˆAbandoned Featureï¼‰
å»ºè®®: ç¡®è®¤äº§å“è§„åˆ’åŽï¼Œè¦ä¹ˆå®Œæˆè¿ç§»ï¼Œè¦ä¹ˆåˆ é™¤
```

---

## é…ç½®é©±åŠ¨åŠŸèƒ½

| åŠŸèƒ½ | é…ç½®é¡¹ | é»˜è®¤å€¼ | åˆ†æžç»“è®º |
|:-----|:-------|:-------|:---------|
| AI | `DIVINESENSE_AI_ENABLED` | false | æ ¸å¿ƒåŠŸèƒ½ï¼Œä½†é»˜è®¤å…³é—­ |
| OCR | `DIVINESENSE_OCR_ENABLED` | false | å¯é€‰åŠŸèƒ½ï¼Œä»£ç ä¿ç•™ |
| TextExtract | `DIVINESENSE_TEXTEXTRACT_ENABLED` | false | å¯é€‰åŠŸèƒ½ï¼Œä»£ç ä¿ç•™ |
| Geek Mode | `DIVINESENSE_CLAUDE_CODE_ENABLED` | false | é«˜çº§åŠŸèƒ½ï¼Œä»£ç ä¿ç•™ |
| Evolution Mode | `DIVINESENSE_EVOLUTION_ENABLED` | false | å®žéªŒæ€§åŠŸèƒ½ï¼Œç®¡ç†å‘˜ä¸“ç”¨ |

**åˆ†æžåŽŸåˆ™**ï¼šé»˜è®¤ `false` ä¸ä»£è¡¨å¯ä»¥åˆ é™¤ï¼Œéœ€åˆ¤æ–­æ˜¯å¦æ˜¯äº§å“åŠŸèƒ½ã€‚

---

## Git åŽ†å²ä¿¡å·

```bash
# è¯†åˆ«"åƒµå°¸ä»£ç "
git log --oneline --all -- plugin/cron/
# å¦‚æžœæœ€åŽä¸€æ¬¡æäº¤æ˜¯ 1 å¹´å‰ â†’ å¯èƒ½æºç å·²æ”¾å¼ƒ

# è¯†åˆ«"å®žéªŒæ€§ä»£ç "
git log --all --grep="experiment\|POC\|prototype" -- plugin/
# å¦‚æžœæäº¤ä¿¡æ¯åŒ…å«è¿™äº›å…³é”®è¯ â†’ å¯èƒ½æ˜¯å·²å®Œæˆæˆ–æ”¾å¼ƒçš„å®žéªŒ

# è¯†åˆ«"æœªå®Œæˆçš„å·¥ä½œ"
git log --all --grep="TODO\|FIXME\|WIP" -- plugin/
# å¦‚æžœå­˜åœ¨æœªå…³é—­çš„ TODO â†’ å¯èƒ½æ˜¯æœªç«Ÿä¹‹äº‹
```

| Git ä¿¡å· | å«ä¹‰ | å»ºè®® |
|:---------|:-----|:-----|
| æœ€åŽä¿®æ”¹ > 1 å¹´å‰ | åƒµå°¸ä»£ç  | å¯åˆ é™¤ |
| æäº¤é¢‘çŽ‡é€å¹´ä¸‹é™ | ç»´æŠ¤å‡å°‘ | è¯„ä¼°åˆ é™¤ |
| æäº¤ä¿¡æ¯å« "POC/exp" | å®žéªŒæ€§ä»£ç  | ç¡®è®¤çŠ¶æ€ |
| å¤§é‡ "WIP/TODO" | æœªå®Œæˆ | å®Œæˆæˆ–åˆ é™¤ |

---

## å‰ç«¯ç»„ä»¶åˆ†æž

### ç»„ä»¶çŠ¶æ€åˆ¤æ–­

```
è·¯ç”±ä¸­å¼•ç”¨ â†’ ðŸ”´ æ´»è·ƒ
è¢« lazy() åŠ¨æ€å¯¼å…¥ â†’ ðŸŸ¡ å»¶è¿ŸåŠ è½½
å¯¼å‡ºä½†æœªå¼•ç”¨ â†’ ðŸŸ¢ å¯èƒ½æ­»ä»£ç 
ä»…åœ¨æµ‹è¯•ä¸­å¼•ç”¨ â†’ ðŸŸ¡ æµ‹è¯•ä¸“ç”¨
```

### ç‰¹æ®Šæ³¨æ„

- React ç»„ä»¶å¯èƒ½é€šè¿‡å­—ç¬¦ä¸²è·¯å¾„æ³¨å†Œ (è€ä»£ç )
- ç»„ä»¶åº“ (å¦‚ shadcn/ui) çš„ç»„ä»¶è¢«å¤šä¸ªç»„ä»¶ä½¿ç”¨
- HOC (é«˜é˜¶ç»„ä»¶) å’Œ Render Props æœ‰é—´æŽ¥å¼•ç”¨

---

## å†³ç­–è®°å½•

| ç»„ä»¶ | çŠ¶æ€ | æŽ¨ç†ä¾æ® | ç½®ä¿¡åº¦ |
|:-----|:-----|:---------|:-------|
| `plugin/cron/` | ðŸŸ¢ æ­»ä»£ç  | 0 å¼•ç”¨ï¼ŒåŠŸèƒ½è¢« AI ä»£ç†æ›¿ä»£ | é«˜ |
| `plugin/email/` | ðŸŸ¡ æœªç«Ÿä¹‹äº‹ | æ— å¼•ç”¨ï¼Œä½†å¯èƒ½æ˜¯è®¡åˆ’ä¸­çš„åŠŸèƒ½ | ä¸­ |
| `plugin/httpgetter/` | ðŸŸ¢ æ­»ä»£ç  | 0 å¼•ç”¨ï¼Œæ— ç›¸å…³äº§å“éœ€æ±‚ | é«˜ |
| `plugin/filter/` | ðŸŸ¢ æ­»ä»£ç  | å½¢æˆå­¤ç«‹å­å›¾ï¼Œæ— å¤–éƒ¨è¿žæŽ¥ | é«˜ |
| `plugin/ocr/` | ðŸŸ¡ ä¿ç•™ | è¢« runner ä½¿ç”¨ï¼Œé»˜è®¤ç¦ç”¨ä½†ä»æ˜¯äº§å“åŠŸèƒ½ | ä¸­ |

---

## SOTA åˆ†æžæ£€æŸ¥æ¸…å•

æ‰§è¡Œåˆ†æžæ—¶ï¼Œä¸åªæ˜¯æ£€æŸ¥å¼•ç”¨ï¼Œè€Œæ˜¯æ€è€ƒï¼š

### æ„å›¾ç†è§£
- [ ] è¿™æ®µä»£ç ä¸ºä»€ä¹ˆè¢«åˆ›å»ºï¼Ÿ
- [ ] å®ƒè§£å†³äº†ä»€ä¹ˆé—®é¢˜ï¼Ÿ
- [ ] è¿™ä¸ªé—®é¢˜çŽ°åœ¨æ˜¯å¦è¿˜å­˜åœ¨ï¼Ÿ
- [ ] æ˜¯å¦æœ‰å…¶ä»–æ–¹å¼è§£å†³äº†è¿™ä¸ªé—®é¢˜ï¼Ÿ

### ä¾èµ–åˆ†æž
- [ ] ç›´æŽ¥ä¾èµ–æœ‰å“ªäº›ï¼Ÿ
- [ ] æ˜¯å¦æœ‰éšå¼ä¾èµ–ï¼ˆé…ç½®ã€çŽ¯å¢ƒå˜é‡ï¼‰ï¼Ÿ
- [ ] æ˜¯å¦å½¢æˆäº†å­¤ç«‹å­å›¾ï¼Ÿ
- [ ] æ˜¯å¦æœ‰å¾ªçŽ¯ä¾èµ–ï¼Ÿ

### ç”Ÿå‘½å‘¨æœŸ
- [ ] ä»£ç æœ€åŽä¸€æ¬¡ä¿®æ”¹æ˜¯ä»€ä¹ˆæ—¶å€™ï¼Ÿ
- [ ] æ˜¯å¦æœ‰ç›¸å…³çš„å¼€æ”¾ Issue/PRï¼Ÿ
- [ ] æ˜¯å¦æœ‰æµ‹è¯•ï¼Ÿæµ‹è¯•æ˜¯å¦é€šè¿‡ï¼Ÿ
- [ ] æ˜¯å¦åœ¨æ–‡æ¡£ä¸­è¢«æåŠï¼Ÿ

### åˆ é™¤å½±å“
- [ ] åˆ é™¤åŽè°ä¼šå—å½±å“ï¼Ÿ
- [ ] æ˜¯å¦æœ‰æ•°æ®ä¾èµ–ï¼ˆæ•°æ®åº“ schemaï¼‰ï¼Ÿ
- [ ] æ˜¯å¦æœ‰é…ç½®éœ€è¦æ¸…ç†ï¼Ÿ
- [ ] æ˜¯å¦æœ‰æ–‡æ¡£éœ€è¦æ›´æ–°ï¼Ÿ

---

*ç‰ˆæœ¬: v3.3.0 | ç†å¿µ: ç†è§£ > åŒ¹é…ï¼ŒæŽ¨ç† > è§„åˆ™*
