# DivineSense 二进制部署配置
# 
# 使用说明:
# 1. 复制到 /etc/divinesense/config
# 2. 修改数据库密码和 API Keys
# 3. 重启服务: systemctl restart divinesense

# =============================================================================
# 服务配置
# =============================================================================
DIVINESENSE_PORT=5230
DIVINESENSE_MODE=prod
# 实例公网地址 (用于 API 回调)
DIVINESENSE_INSTANCE_URL=http://your-server-ip:5230
# 数据目录
DIVINESENSE_DATA=/opt/divinesense/data
TZ=Asia/Shanghai

# =============================================================================
# 数据库配置
# =============================================================================
# Docker PostgreSQL (推荐)
DIVINESENSE_DRIVER=postgres
# 注意: 密码需 URL 编码
DIVINESENSE_DSN=postgres://divinesense:your_secure_password@localhost:25432/divinesense?sslmode=disable

# SQLite (无 AI 功能)
# DIVINESENSE_DRIVER=sqlite
# DIVINESENSE_DSN=/opt/divinesense/data/divinesense.db

# =============================================================================
# AI 功能配置
# =============================================================================
DIVINESENSE_AI_ENABLED=true
DIVINESENSE_AI_SILICONFLOW_API_KEY=
DIVINESENSE_AI_DEEPSEEK_API_KEY=

# =============================================================================
# Geek Mode & Evolution Mode - Claude Code Agent 集成
# =============================================================================
#
# ┌─────────────────────────────────────────────────────────────────────────────┐
# │ Geek Mode 允许用户在聊天中调用 Claude Code CLI 处理通用运维与开发任务          │
# │                                                                             │
# │ 核心能力 (不止于编码)：                                                       │
# │   • 💻 代码开发: 审查、修复 Bug、重构、单元测试、API 实现                     │
# │   • 🔍 系统运维: 日志分析、进程监控、网络排查、配置文件修改                    │
# │   • 📂 文件管理: 批量处理、格式转换、搜索替换、目录整理                        │
# │   • 🗄️ 数据维护: 数据库查询、备份恢复、数据迁移、ETL 脚本                     │
# │   • 🔄 自动化:  编写 Shell/Python 脚本、Git 操作、CI/CD 辅助                   │
# │                                                                             │
# │ 工作流程：                                                                   │
# │   1. 用户启用 Geek Mode (UI 开关)                                           │
# │   2. 发送自然语言指令 (不仅仅是关于代码)                                      │
# │   3. 系统自动调用 Claude Code Agent (基于 Shell/Go 插件)                     │
# │   4. 智能执行终端命令并返回结果                                              │
# └─────────────────────────────────────────────────────────────────────────────┘
#
# -----------------------------------------------------------------------------
# 环境变量配置
# -----------------------------------------------------------------------------
#
# 启用 Geek Mode:
#   设置此开关为 true 以开启 Geek Mode 功能模块。
DIVINESENSE_CLAUDE_CODE_ENABLED=false
#
# Geek Mode 工作目录 (可选):
#   指定 Geek Mode 的沙箱及代码操作的基础目录。
#   每个用户的沙箱将创建在此目录下: {WORKDIR}/user_{id}
#   默认值: ~/.divinesense/claude (即 /opt/divinesense/data/user_{id})
DIVINESENSE_CLAUDE_CODE_WORKDIR=/opt/divinesense/data
#
# 启用 Evolution Mode (进化模式):
#   进化模式是 Geek Mode 的增强版，允许 Agent 自主修改项目核心代码。
#   注意：此模式权限极高，建议仅在受控环境开启。
DIVINESENSE_EVOLUTION_ENABLED=false
#
# Evolution Mode 仅限管理员 (可选):
# DIVINESENSE_EVOLUTION_ADMIN_ONLY=true
#
# 指定 claude 命令路径 (运行 `which claude` 获取):
# DIVINESENSE_CLAUDE_CODE_PATH=/usr/local/bin/claude
#
# -----------------------------------------------------------------------------
# 使用示例
# -----------------------------------------------------------------------------
#
# 1. Geek Mode (沙箱环境 - 独立工作区):
#    "写一个 Python 脚本查询当前外网 IP 并保存到 ip.txt"
#    "帮我分析刚刚上传的 error.log 日志文件"
#    "生成一个 RSA 私钥并打印出来"
#
# 2. Evolution Mode (进化模式 - 修改项目源码):
#    "修复 server/main.go 中的启动逻辑 bug"
#    "为 user_service.go 编写单元测试"

