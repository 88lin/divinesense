### Focus Mode
commit c8162ff3ccfcbd0f06407736f1aa2b3cc78b52fd
Author: Johnny <yourselfhosted@gmail.com>
Date:   Sun Nov 16 23:15:36 2025 +0800

    feat(web): add Focus Mode for distraction-free writing
    
    Add keyboard-activated Focus Mode to provide an immersive writing experience:
    
    Features:
    - Toggle with Cmd/Ctrl+Shift+F (matches GitHub, Google Docs)
    - Exit with Escape, toggle shortcut, button click, or backdrop click
    - Expands editor to ~80-90% of viewport with centered layout
    - Semi-transparent backdrop with blur effect
    - Maintains all editor functionality (attachments, shortcuts, etc.)
    - Smooth 300ms transitions
    
    Responsive Design:
    - Mobile (< 640px): 8px margins, 50vh min-height
    - Tablet (640-768px): 16px margins
    - Desktop (> 768px): 32px margins, 60vh min-height, 1024px max-width
    
    Implementation:
    - Centralized constants for easy maintenance (FOCUS_MODE_STYLES)
    - Extracted keyboard shortcuts and heights to named constants
    - JSDoc documentation for all new functions and interfaces
    - TypeScript type safety with 'as const'
    - Explicit positioning (top/left/right/bottom) to avoid width overflow
    
    Files Modified:
    - web/src/components/MemoEditor/index.tsx - Main Focus Mode logic
    - web/src/components/MemoEditor/Editor/index.tsx - Height adjustments
    - web/src/locales/en.json - Translation keys
    
    Design follows industry standards (GitHub Focus Mode, Notion, Obsidian)
    and maintains code quality with single source of truth pattern.

 web/src/components/MemoEditor/Editor/index.tsx | 30 ++++++++-
 web/src/components/MemoEditor/index.tsx        | 84 +++++++++++++++++++++++++-
 web/src/locales/en.json                        |  4 +-
 3 files changed, 112 insertions(+), 6 deletions(-)
commit 357118804e52bdeca905960a75a3b68b8472f1d2
Author: Johnny <yourselfhosted@gmail.com>
Date:   Mon Nov 17 08:55:10 2025 +0800

    feat(web): add Focus Mode UI entry in Insert Menu
    
    Add discoverable UI entry point for Focus Mode via Insert Menu submenu:
    
    UI Changes:
    - Add "View" submenu to Insert Menu (+ button dropdown)
    - Nested menu with Focus Mode option (ChatGPT-style pattern)
    - Display keyboard shortcut hint (âŒ˜â‡§F) next to menu item
    - Uses DropdownMenuSub components from Radix UI
    
    User Access Methods:
    1. Keyboard: Cmd/Ctrl+Shift+F (primary, power users)
    2. Mouse: + menu â†’ View â†’ Focus Mode (discoverable)
    3. Mobile: Touch-friendly menu access
    
    Benefits:
    - Improves discoverability for new users
    - Doesn't clutter main editor UI
    - Educates users about keyboard shortcut
    - Extensible for future view options (typewriter, reading mode, etc.)
    - Follows familiar UI patterns (ChatGPT, Notion)
    
    Files Modified:
    - web/src/components/MemoEditor/ActionButton/InsertMenu.tsx
      * Add DropdownMenuSub, DropdownMenuSubTrigger, DropdownMenuSubContent
      * Add View submenu with Focus Mode entry
      * Add onToggleFocusMode prop
    - web/src/components/MemoEditor/index.tsx
      * Pass toggleFocusMode to InsertMenu component
    - web/src/locales/en.json
      * Add "editor.view" translation key

 .../MemoEditor/ActionButton/InsertMenu.tsx         | 27 ++++++++++++++++++++--
 web/src/components/MemoEditor/index.tsx            |  1 +
 web/src/locales/en.json                            |  3 ++-
 3 files changed, 28 insertions(+), 3 deletions(-)
### Scheduler
commit 5828f34aae3bd91cc60c420ee4ce9760f7239ff8
Author: Johnny <yourselfhosted@gmail.com>
Date:   Sat Dec 20 15:43:25 2025 +0800

    feat: implement scheduler plugin
    
    - Added `scheduler` package with core functionalities for job scheduling.
    - Implemented job registration, execution, and graceful shutdown mechanisms.
    - Introduced middleware support for logging, recovery from panics, and timeout handling.
    - Developed cron expression parser to support both 5-field and 6-field formats.
    - Created comprehensive integration and unit tests for scheduler, job definitions, middleware, and parser functionalities.
    - Enhanced logging capabilities to track job execution and errors.

 plugin/scheduler/README.md           | 367 ++++++++++++++++++++++++++++++++
 plugin/scheduler/doc.go              |  35 ++++
 plugin/scheduler/example_test.go     | 165 +++++++++++++++
 plugin/scheduler/integration_test.go | 393 +++++++++++++++++++++++++++++++++++
 plugin/scheduler/job.go              |  58 ++++++
 plugin/scheduler/job_test.go         |  90 ++++++++
 plugin/scheduler/middleware.go       | 120 +++++++++++
 plugin/scheduler/middleware_test.go  | 146 +++++++++++++
 plugin/scheduler/parser.go           | 229 ++++++++++++++++++++
 plugin/scheduler/parser_test.go      | 127 +++++++++++
 plugin/scheduler/scheduler.go        | 200 ++++++++++++++++++
 plugin/scheduler/scheduler_test.go   | 165 +++++++++++++++
 12 files changed, 2095 insertions(+)
### Email Plugin
commit b55a0314f815497828eb8070ecb727f7d3fa84a6
Author: Johnny <yourselfhosted@gmail.com>
Date:   Sat Dec 20 14:23:15 2025 +0800

    feat: add Email Plugin with SMTP functionality
    
    - Implemented the Email Plugin for self-hosted Memos instances, providing SMTP email sending capabilities.
    - Created configuration structure for SMTP settings with validation.
    - Developed message structure for email content with validation and formatting.
    - Added synchronous and asynchronous email sending methods.
    - Implemented error handling and logging for email sending processes.
    - Included tests for client, configuration, and message functionalities to ensure reliability.
    - Updated documentation to reflect new features and usage instructions.

 plugin/email/README.md       | 507 +++++++++++++++++++++++++++++++++++++++++++
 plugin/email/client.go       | 143 ++++++++++++
 plugin/email/client_test.go  | 121 +++++++++++
 plugin/email/config.go       |  47 ++++
 plugin/email/config_test.go  |  80 +++++++
 plugin/email/doc.go          |  98 +++++++++
 plugin/email/email.go        |  43 ++++
 plugin/email/email_test.go   | 139 ++++++++++++
 plugin/email/message.go      |  91 ++++++++
 plugin/email/message_test.go | 181 +++++++++++++++
 10 files changed, 1450 insertions(+)
### Mermaid & LaTeX
commit fb736c20d3f3e66335cf94b235790a5be2e74be0
Author: Johnny <yourselfhosted@gmail.com>
Date:   Sun Nov 9 14:13:10 2025 +0800

    feat(web): add Mermaid diagram support in markdown (#5242)
    
    Co-authored-by: Claude <noreply@anthropic.com>

 web/src/components/MemoContent/CodeBlock.tsx    |  10 +++
 web/src/components/MemoContent/MermaidBlock.tsx | 102 ++++++++++++++++++++++++
 2 files changed, 112 insertions(+)
commit d9f8bc80f012b0bec7f68ac4491f65efa42f4635
Author: Steven <stevenlgtm@gmail.com>
Date:   Tue Dec 2 22:08:45 2025 +0800

    feat(web): add LaTeX math rendering support to MemoContent
    
    Integrates remark-math and rehype-katex plugins to enable LaTeX mathematical expressions in memos. Users can now write inline math ($...$) and display math ($$...$$) using standard LaTeX syntax.
    
    ðŸ¤– Generated with [Claude Code](https://claude.com/claude-code)
    
    Co-Authored-By: Claude <noreply@anthropic.com>

 web/package.json                         |   2 +
 web/pnpm-lock.yaml                       | 123 +++++++++++++++++++++++++++++++
 web/src/components/MemoContent/index.tsx |   7 +-
 3 files changed, 130 insertions(+), 2 deletions(-)
### Critical Fixes
commit 6db58fae11631a40d8e1470c6d5dc6775f1e9f74
Author: Steven <stevenlgtm@gmail.com>
Date:   Mon Feb 2 21:45:24 2026 +0800

    fix: prevent private memos from disappearing during token refresh (#5565)
    
    Root cause: enabled={isInitialized && !!user} prevented displaying cached
    data when user auth state transitioned during token refresh.
    
    Changes:
    - Remove !!user check from Home page enabled condition
    - Add clearAccessToken() in redirectOnAuthFailure for clean logout
    
    Fixes #5565

 web/src/pages/Home.tsx         | 2 +-
 web/src/utils/auth-redirect.ts | 5 +++++
 2 files changed, 6 insertions(+), 1 deletion(-)
commit cf0a285ef1090282371035a05be1f1ce6814048c
Author: Steven <stevenlgtm@gmail.com>
Date:   Mon Feb 2 23:28:21 2026 +0800

    fix(auth): make PKCE optional for OAuth sign-in (#5570)
    
    Fixes issue where OAuth sign-in fails with 'Cannot read properties of
    undefined (reading 'digest')' when accessing Memos over HTTP.
    
    The crypto.subtle API is only available in secure contexts (HTTPS or
    localhost), but PKCE (RFC 7636) is optional per OAuth 2.0 standards.
    
    Changes:
    - Make PKCE generation optional with graceful fallback
    - Use PKCE when crypto.subtle available (HTTPS/localhost)
    - Fall back to standard OAuth flow when unavailable (HTTP)
    - Log warning to console when PKCE unavailable
    - Only include code_challenge in auth URL when PKCE enabled
    
    The backend already supports optional PKCE (empty codeVerifier), so no
    backend changes needed. This fix aligns frontend behavior with backend.
    
    Benefits:
    - OAuth sign-in works on HTTP deployments (reverse proxy scenarios)
    - Enhanced security (PKCE) still used when HTTPS available
    - Backward compatible with OAuth providers that don't support PKCE
    
    Fixes #5570

 web/src/pages/SignIn.tsx | 14 ++++++++++----
 web/src/utils/oauth.ts   | 32 +++++++++++++++++++++++++++-----
 2 files changed, 37 insertions(+), 9 deletions(-)
