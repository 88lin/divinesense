# ==============================================================================
# DivineSense 环境变量配置
# ==============================================================================
# 使用: cp .env.example .env && 编辑填入配置
# ==============================================================================
#
# 一、快速开始 (最小配置)
# ==============================================================================
# 数据库 (AI 功能需要 PostgreSQL + pgvector)
DIVINESENSE_DRIVER=postgres
DIVINESENSE_DSN=postgres://divinesense:divinesense@localhost:25432/divinesense?sslmode=disable


# 统一 LLM 配置 (所有 OpenAI 兼容的 Provider 使用相同配置)
# ==============================================================================
# DIVINESENSE_AI_LLM_PROVIDER - Provider 标识 (用于日志和未来非 OpenAI 协议扩展)
#     可选值: zai | deepseek | openai | siliconflow | dashscope | openrouter | ollama
#     默认: zai
#
# DIVINESENSE_AI_LLM_API_KEY - LLM API 密钥 (必需, 配置非空即开启 AI 功能)
#
# DIVINESENSE_AI_LLM_BASE_URL - LLM API 地址 (可选，不填则使用 Provider 默认值)
#
# DIVINESENSE_AI_LLM_MODEL - 模型名称 (可选，不填则使用 Provider 默认值)
#
# DIVINESENSE_AI_LLM_TIMEOUT_SECONDS - LLM 请求超时时间 (秒)
#     默认: 120
#
# 示例: 使用 Z.AI (智谱旗舰版)
DIVINESENSE_AI_LLM_PROVIDER=zai
DIVINESENSE_AI_LLM_API_KEY=sk-zai-your-key
DIVINESENSE_AI_LLM_BASE_URL=https://open.bigmodel.cn/api/paas/v4
DIVINESENSE_AI_LLM_MODEL=glm-4.7
# 开启 geek 模式，使用 CC Runner
DIVINESENSE_GEEK_ENABLED=true
DIVINESENSE_EVOLUTION_ENABLED=true

# ==============================================================================
# 二、LLM Provider 配置速查 (2026.02 推荐)
# ==============================================================================
# 💡 提示: 下方列表仅供参考，请将选定的配置填入上方的 [一、快速开始] 区域。
#
# [ 国产优选 ]
# ┌── SiliconFlow (硅基流动) ───────────────────────────────────────────────────────────┐
# │ 推荐: 高性价比，聚合 DeepSeek/Qwen 满血版，且提供配套的 Embedding/Rerank 服务            │
# │ 注册: https://cloud.siliconflow.cn/account/ak                                      │
# │                                                                                    │
# │ DIVINESENSE_AI_LLM_PROVIDER=siliconflow                                            │
# │ DIVINESENSE_AI_LLM_API_KEY=sk-xxx                                                  │
# │ DIVINESENSE_AI_LLM_BASE_URL=https://api.siliconflow.cn/v1                          │
# │ DIVINESENSE_AI_LLM_MODEL=deepseek-ai/DeepSeek-V3.2                                 │
# └────────────────────────────────────────────────────────────────────────────────────┘
#
# ┌── DeepSeek (深度求索) ──────────────────────────────────────────────────────────────┐
# │ 推荐: 推理能力强 (R1)，国内顶尖大模型厂商                                               │
# │ 注册: https://platform.deepseek.com/api_keys                                       │
# │                                                                                    │
# │ DIVINESENSE_AI_LLM_PROVIDER=deepseek                                               │
# │ DIVINESENSE_AI_LLM_API_KEY=sk-xxx                                                  │
# │ DIVINESENSE_AI_LLM_BASE_URL=https://api.deepseek.com                               │
# │ DIVINESENSE_AI_LLM_MODEL=deepseek-chat                                             │
# └────────────────────────────────────────────────────────────────────────────────────┘
#
# ┌── Z.AI (智谱 GLM) ──────────────────────────────────────────────────────────────────┐
# │ 推荐: 把控力强，GLM-4 系列模型综合素质高                                               │
# │ 注册: https://open.bigmodel.cn/usercenter/apikeys                                  │
# │                                                                                    │
# │ DIVINESENSE_AI_LLM_PROVIDER=zai                                                    │
# │ DIVINESENSE_AI_LLM_API_KEY=sk-xxx                                                  │
# │ DIVINESENSE_AI_LLM_BASE_URL=https://open.bigmodel.cn/api/paas/v4                   │
# │ DIVINESENSE_AI_LLM_MODEL=glm-4.7                                                │
# └────────────────────────────────────────────────────────────────────────────────────┘
#
# ┌── DashScope (阿里云百炼) ───────────────────────────────────────────────────────────┐
# │ 推荐: 通义千问 Qwen-Max 系列，生态完善                                                 │
# │ 注册: https://bailian.console.aliyun.com/                                          │
# │                                                                                    │
# │ DIVINESENSE_AI_LLM_PROVIDER=dashscope                                              │
# │ DIVINESENSE_AI_LLM_API_KEY=sk-xxx                                                  │
# │ DIVINESENSE_AI_LLM_BASE_URL=https://dashscope.aliyuncs.com/compatible-mode/v1      │
# │ DIVINESENSE_AI_LLM_MODEL=qwen-max-latest                                           │
# └────────────────────────────────────────────────────────────────────────────────────┘
#
# [ 国际 / 聚合 ]
# ┌── OpenAI (国际标准) ────────────────────────────────────────────────────────────────┐
# │ 推荐: GPT-4o 仍是行业基准，需国际网络环境                                              │
# │ 注册: https://platform.openai.com/api-keys                                         │
# │                                                                                    │
# │ DIVINESENSE_AI_LLM_PROVIDER=openai                                                 │
# │ DIVINESENSE_AI_LLM_API_KEY=sk-xxx                                                  │
# │ DIVINESENSE_AI_LLM_BASE_URL=https://api.openai.com/v1                              │
# │ DIVINESENSE_AI_LLM_MODEL=gpt-4o                                                    │
# └────────────────────────────────────────────────────────────────────────────────────┘
#
# ┌── OpenRouter (模型聚合) ────────────────────────────────────────────────────────────┐
# │ 推荐: 一站式访问 Claude 3.5, Gemini Pro 等国际模型                                     │
# │ 注册: https://openrouter.ai/keys                                                   │
# │                                                                                    │
# │ DIVINESENSE_AI_LLM_PROVIDER=openrouter                                             │
# │ DIVINESENSE_AI_LLM_API_KEY=sk-or-xxx                                               │
# │ DIVINESENSE_AI_LLM_BASE_URL=https://openrouter.ai/api/v1                           │
# │ DIVINESENSE_AI_LLM_MODEL=anthropic/claude-3.5-sonnet                               │
# └────────────────────────────────────────────────────────────────────────────────────┘
#
# [ 本地运行 ]
# ┌── Ollama (本地部署) ────────────────────────────────────────────────────────────────┐
# │ 推荐: 隐私安全，本地运行 Llama 3, Qwen 2 等模型                                        │
# │ 下载: https://ollama.com                                                           │
# │                                                                                    │
# │ DIVINESENSE_AI_LLM_PROVIDER=ollama                                                 │
# │ DIVINESENSE_AI_LLM_API_KEY=ollama                                                  │
# │ DIVINESENSE_AI_LLM_BASE_URL=http://localhost:11434/v1                              │
# │ DIVINESENSE_AI_LLM_MODEL=llama3                                                    │
# └────────────────────────────────────────────────────────────────────────────────────┘
#
# ==============================================================================
# 三、向量与重排配置 (Embedding & Reranker)
# ==============================================================================
# 支持多供应商: siliconflow | openai | ollama | zai | dashscope
# 默认推荐使用 SiliconFlow (硅基流动) 以获得最佳性价比
#
# 1. 向量嵌入服务 (Embedding)
DIVINESENSE_AI_EMBEDDING_PROVIDER=siliconflow
DIVINESENSE_AI_EMBEDDING_MODEL=BAAI/bge-m3
DIVINESENSE_AI_EMBEDDING_API_KEY=sk-your-siliconflow-key
DIVINESENSE_AI_EMBEDDING_BASE_URL=https://api.siliconflow.cn/v1
#
# 2. 重排服务 (Reranker)
DIVINESENSE_AI_RERANK_PROVIDER=siliconflow
DIVINESENSE_AI_RERANK_MODEL=BAAI/bge-reranker-v2-m3
DIVINESENSE_AI_RERANK_API_KEY=sk-your-siliconflow-key
DIVINESENSE_AI_RERANK_BASE_URL=https://api.siliconflow.cn/v1
#
# ==============================================================================
# 四、意图识别与会话标题生成配置 (Intent Classifier & Title Generator)
# ==============================================================================
# 使用轻量级模型进行意图分类和标题生成，推荐使用 SiliconFlow 上的 Qwen2.5-7B-Instruct
#
DIVINESENSE_AI_INTENT_PROVIDER=siliconflow
DIVINESENSE_AI_INTENT_MODEL=Qwen/Qwen2.5-7B-Instruct
DIVINESENSE_AI_INTENT_API_KEY=sk-your-siliconflow-key
DIVINESENSE_AI_INTENT_BASE_URL=https://api.siliconflow.cn/v1
#
# ==============================================================================
# 五、Attachment 处理配置
# ==============================================================================
DIVINESENSE_OCR_ENABLED=false
DIVINESENSE_TEXTEXTRACT_ENABLED=false
DIVINESENSE_OCR_TESSERACT_PATH=tesseract
DIVINESENSE_OCR_TESSDATA_PATH=""
DIVINESENSE_TEXTEXTRACT_TIKA_URL=http://localhost:9998
#
# ==============================================================================
# 六、Chat Apps 集成配置 (Telegram / 钉钉 / WhatsApp)
# ==============================================================================
# 凭证加密密钥 (必需, 32字节以上随机字符串)
# 生成命令: openssl rand -base64 32
DIVINESENSE_CHAT_APPS_SECRET_KEY=

# DIVINESENSE_CHAT_APPS_WEBHOOK_TIMEOUT=30
#
# ==============================================================================
# 七、其他配置
# ==============================================================================
# 服务端口 (默认: 后端 28081，前端 25173)
# PORT=5230
#
# 数据目录
# DATA_DIR=/var/lib/divinesense
