# Orchestrator-Workers æ¶æ„æ–‡æ¡£

> DivineSense å¤šä»£ç†åä½œæ¶æ„ - 2026 SOTA è®¾è®¡

---

## æ¶æ„æ¦‚è§ˆ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                  ç”¨æˆ·è¾“å…¥                                        â”‚
â”‚                               (User Input)                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                        â”‚
                                        â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                              Layer 1: FastRouter                                 â”‚
â”‚                           (å¿«é€Ÿè·¯ç”± - å“åº”æ—¶é—´: ~0ms)                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                         â”‚
â”‚  â”‚   Cache     â”‚ â†’  â”‚    Rule     â”‚ â†’  â”‚  Decision   â”‚                         â”‚
â”‚  â”‚  (ç¼“å­˜å±‚)   â”‚    â”‚  (è§„åˆ™åŒ¹é…)  â”‚    â”‚  (è·¯ç”±å†³ç­–)  â”‚                         â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜                         â”‚
â”‚                                               â”‚                                  â”‚
â”‚                          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”            â”‚
â”‚                          â”‚                    â”‚                    â”‚            â”‚
â”‚                          â–¼                    â–¼                    â–¼            â”‚
â”‚                   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚
â”‚                   â”‚   MEMO   â”‚         â”‚ SCHEDULE â”‚        â”‚ORCHESTRATEâ”‚        â”‚
â”‚                   â”‚  ç›´æ¥è·¯ç”± â”‚         â”‚  ç›´æ¥è·¯ç”±  â”‚        â”‚  éœ€è¦ç¼–æ’  â”‚        â”‚
â”‚                   â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜        â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚                      â”‚                   â”‚
                         â”‚                      â”‚                   â–¼
                         â”‚                      â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                         â”‚                      â”‚    â”‚     Layer 2: Orchestrator     â”‚
                         â”‚                      â”‚    â”‚   (ä»»åŠ¡ç¼–æ’ - å“åº”æ—¶é—´: ~400ms) â”‚
                         â”‚                      â”‚    â”‚                              â”‚
                         â”‚                      â”‚    â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
                         â”‚                      â”‚    â”‚  â”‚      Decomposer        â”‚  â”‚
                         â”‚                      â”‚    â”‚  â”‚    (LLM ä»»åŠ¡åˆ†è§£)       â”‚  â”‚
                         â”‚                      â”‚    â”‚  â”‚                        â”‚  â”‚
                         â”‚                      â”‚    â”‚  â”‚  Prompt:               â”‚  â”‚
                         â”‚                      â”‚    â”‚  â”‚  â€¢ system_context      â”‚  â”‚
                         â”‚                      â”‚    â”‚  â”‚  â€¢ analysis_steps      â”‚  â”‚
                         â”‚                      â”‚    â”‚  â”‚  â€¢ output_format       â”‚  â”‚
                         â”‚                      â”‚    â”‚  â”‚  â€¢ rules               â”‚  â”‚
                         â”‚                      â”‚    â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
                         â”‚                      â”‚    â”‚              â”‚              â”‚
                         â”‚                      â”‚    â”‚              â–¼              â”‚
                         â”‚                      â”‚    â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
                         â”‚                      â”‚    â”‚  â”‚       TaskPlan         â”‚  â”‚
                         â”‚                      â”‚    â”‚  â”‚ {                      â”‚  â”‚
                         â”‚                      â”‚    â”‚  â”‚   analysis: string,    â”‚  â”‚
                         â”‚                      â”‚    â”‚  â”‚   tasks: [{            â”‚  â”‚
                         â”‚                      â”‚    â”‚  â”‚     agent, input,      â”‚  â”‚
                         â”‚                      â”‚    â”‚  â”‚     purpose, status    â”‚  â”‚
                         â”‚                      â”‚    â”‚  â”‚   }],                  â”‚  â”‚
                         â”‚                      â”‚    â”‚  â”‚   parallel: bool,      â”‚  â”‚
                         â”‚                      â”‚    â”‚  â”‚   aggregate: bool      â”‚  â”‚
                         â”‚                      â”‚    â”‚  â”‚ }                      â”‚  â”‚
                         â”‚                      â”‚    â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
                         â”‚                      â”‚    â”‚              â”‚              â”‚
                         â”‚                      â”‚    â”‚              â–¼              â”‚
                         â”‚                      â”‚    â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
                         â”‚                      â”‚    â”‚  â”‚       Executor         â”‚  â”‚
                         â”‚                      â”‚    â”‚  â”‚   (å¹¶è¡Œ/ä¸²è¡Œæ‰§è¡Œå™¨)     â”‚  â”‚
                         â”‚                      â”‚    â”‚  â”‚                        â”‚  â”‚
                         â”‚                      â”‚    â”‚  â”‚  Events:               â”‚  â”‚
                         â”‚                      â”‚    â”‚  â”‚  â€¢ plan                â”‚  â”‚
                         â”‚                      â”‚    â”‚  â”‚  â€¢ task_start          â”‚  â”‚
                         â”‚                      â”‚    â”‚  â”‚  â€¢ task_end            â”‚  â”‚
                         â”‚                      â”‚    â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
                         â”‚                      â”‚    â”‚              â”‚              â”‚
                         â”‚                      â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚                      â”‚                   â”‚
                         â–¼                      â–¼                   â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                            Expert Registry (ä¸“å®¶æ³¨å†Œä¸­å¿ƒ)                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                         Available Experts                                â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”‚   â”‚
â”‚  â”‚  â”‚    MemoParrot ğŸ“      â”‚       â”‚  ScheduleParrot ğŸ“…    â”‚              â”‚   â”‚
â”‚  â”‚  â”‚    (ç¬”è®°æœç´¢ä¸“å®¶)      â”‚       â”‚    (æ—¥ç¨‹ç®¡ç†ä¸“å®¶)      â”‚              â”‚   â”‚
â”‚  â”‚  â”‚                       â”‚       â”‚                       â”‚              â”‚   â”‚
â”‚  â”‚  â”‚  Tools:               â”‚       â”‚  Tools:               â”‚              â”‚   â”‚
â”‚  â”‚  â”‚  â€¢ memo_search        â”‚       â”‚  â€¢ schedule_add       â”‚              â”‚   â”‚
â”‚  â”‚  â”‚                       â”‚       â”‚  â€¢ schedule_query     â”‚              â”‚   â”‚
â”‚  â”‚  â”‚  Strategy: react      â”‚       â”‚  â€¢ schedule_update    â”‚              â”‚   â”‚
â”‚  â”‚  â”‚  Max Iterations: 10   â”‚       â”‚  â€¢ find_free_time     â”‚              â”‚   â”‚
â”‚  â”‚  â”‚                       â”‚       â”‚                       â”‚              â”‚   â”‚
â”‚  â”‚  â”‚  Config:              â”‚       â”‚  Strategy: react      â”‚              â”‚   â”‚
â”‚  â”‚  â”‚  config/parrots/      â”‚       â”‚  Max Iterations: 10   â”‚              â”‚   â”‚
â”‚  â”‚  â”‚  memo.yaml            â”‚       â”‚                       â”‚              â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚  Config:              â”‚              â”‚   â”‚
â”‚  â”‚                                  â”‚  config/parrots/      â”‚              â”‚   â”‚
â”‚  â”‚                                  â”‚  schedule.yaml        â”‚              â”‚   â”‚
â”‚  â”‚                                  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                        â”‚
                                        â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         Layer 2 (ç»­): Aggregator                                 â”‚
â”‚                           (ç»“æœèšåˆå™¨ - å¯é€‰)                                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  Trigger: plan.aggregate == true && tasks > 1                           â”‚   â”‚
â”‚  â”‚                                                                          â”‚   â”‚
â”‚  â”‚  Prompt:                                                                 â”‚   â”‚
â”‚  â”‚  â€¢ system_context: ç»“æœæ•´åˆåŠ©æ‰‹                                          â”‚   â”‚
â”‚  â”‚  â€¢ requirements: å®Œæ•´æ€§ã€è‡ªç„¶èåˆã€çªå‡ºé‡ç‚¹                               â”‚   â”‚
â”‚  â”‚  â€¢ language_hints: å¤šè¯­è¨€æ”¯æŒ                                            â”‚   â”‚
â”‚  â”‚                                                                          â”‚   â”‚
â”‚  â”‚  Fallback: ç®€å•æ‹¼æ¥ (LLM å¤±è´¥æ—¶)                                         â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                        â”‚
                                        â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                  ç”¨æˆ·å“åº”                                        â”‚
â”‚                              (Final Response)                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## æ ¸å¿ƒç»„ä»¶è¯¦è§£

### 1. FastRouter (å¿«é€Ÿè·¯ç”±å™¨)

**èŒè´£**ï¼šåŸºäºè§„åˆ™å’Œç¼“å­˜çš„å¿«é€Ÿæ„å›¾è¯†åˆ«

| ç»„ä»¶                 | åŠŸèƒ½                   | å»¶è¿Ÿ |
| -------------------- | ---------------------- | ---- |
| Cache Layer          | ç¼“å­˜è·¯ç”±å†³ç­–           | ~0ms |
| Rule Matcher         | è§„åˆ™åŒ¹é… + å†å²åˆ†æ    | ~0ms |
| Confidence Evaluator | ç½®ä¿¡åº¦è¯„ä¼° (é˜ˆå€¼: 0.8) | -    |

**è§¦å‘ Orchestrator çš„æ¡ä»¶**ï¼š
- ç½®ä¿¡åº¦ < 0.8
- å¤šæ„å›¾å…³é”®è¯ ("é¡ºä¾¿"ã€"åŒæ—¶"ã€"è¿˜æœ‰")
- æ— æ³•è¯†åˆ«çš„æ„å›¾

### 2. Orchestrator (ä»»åŠ¡ç¼–æ’å™¨)

#### 2.1 Decomposer (ä»»åŠ¡åˆ†è§£å™¨)

```yaml
é…ç½®æ–‡ä»¶: config/orchestrator/decomposer.yaml

è¾“å…¥:
  - userInput: ç”¨æˆ·åŸå§‹è¯·æ±‚
  - expertDescriptions: å¯ç”¨ä¸“å®¶åˆ—è¡¨

å¤„ç†:
  1. ç†è§£æ„å›¾ - åˆ†æç”¨æˆ·çœŸæ­£æƒ³è¦ä»€ä¹ˆ
  2. åŒ¹é…ä¸“å®¶ - é€‰æ‹©æœ€é€‚åˆçš„ä¸“å®¶
  3. ä»»åŠ¡åˆ†è§£ - ä¸ºæ¯ä¸ªä¸“å®¶åˆ›å»ºå…·ä½“ä»»åŠ¡
  4. ä¾èµ–åˆ†æ - åˆ¤æ–­å¹¶è¡Œ/ä¸²è¡Œ

è¾“å‡º: TaskPlan (JSON)
```

#### 2.2 Executor (ä»»åŠ¡æ‰§è¡Œå™¨)

```go
// å¹¶è¡Œæ‰§è¡Œæ¨¡å¼
MaxConcurrency: 3  // æœ€å¤§å¹¶è¡Œæ•°
Strategy: goroutine + sync.WaitGroup

// äº‹ä»¶æµ
Events:
  - plan: å±•ç¤ºä»»åŠ¡åˆ†è§£
  - task_start: ä»»åŠ¡å¼€å§‹
  - task_end: ä»»åŠ¡å®Œæˆ/å¤±è´¥
```

#### 2.3 Aggregator (ç»“æœèšåˆå™¨)

```yaml
é…ç½®æ–‡ä»¶: config/orchestrator/aggregator.yaml

è§¦å‘æ¡ä»¶: plan.aggregate == true && tasks > 1

ç­–ç•¥:
  - Primary: LLM èåˆå¤šæºä¿¡æ¯
  - Fallback: ç®€å•æ‹¼æ¥

è¯­è¨€æ”¯æŒ:
  zh: "ä¸­æ–‡"
  en: "English"
```

### 3. Expert Agents (ä¸“å®¶ä»£ç†)

| ä¸“å®¶           | ç¬¦å· | å·¥å…·                                      | ç­–ç•¥  |
| -------------- | ---- | ----------------------------------------- | ----- |
| MemoParrot     | ğŸ“    | memo_search                               | ReAct |
| ScheduleParrot | ğŸ“…    | schedule_add/query/update, find_free_time | ReAct |

---

## æ•°æ®æµ

```
User Input
    â”‚
    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   FastRouter    â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   (0ms)         â”‚                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                   â”‚
         â”‚                                            â”‚
    â”Œâ”€â”€â”€â”€â”´â”€â”€â”€â”€â”                                       â”‚
    â”‚ Decisionâ”‚                                       â”‚
    â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜                                       â”‚
         â”‚                                            â”‚
    â”Œâ”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                       â”‚
    â–¼    â–¼                    â–¼                       â”‚
â”Œâ”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                  â”‚
â”‚ MEMO â”‚ â”‚SCHED â”‚      â”‚Orchestrateâ”‚                  â”‚
â””â”€â”€â”¬â”€â”€â”€â”˜ â””â”€â”€â”¬â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜                  â”‚
   â”‚        â”‚                â”‚                        â”‚
   â”‚        â”‚                â–¼                        â”‚
   â”‚        â”‚        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                â”‚
   â”‚        â”‚        â”‚  Decomposer   â”‚                â”‚
   â”‚        â”‚        â”‚  (~400ms LLM) â”‚                â”‚
   â”‚        â”‚        â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜                â”‚
   â”‚        â”‚                â”‚                        â”‚
   â”‚        â”‚                â–¼                        â”‚
   â”‚        â”‚        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                â”‚
   â”‚        â”‚        â”‚   TaskPlan    â”‚                â”‚
   â”‚        â”‚        â”‚   {tasks[]}   â”‚                â”‚
   â”‚        â”‚        â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜                â”‚
   â”‚        â”‚                â”‚                        â”‚
   â”‚        â”‚        â”Œâ”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”                â”‚
   â”‚        â”‚        â–¼               â–¼                â”‚
   â”‚        â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”            â”‚
   â”‚        â”‚   â”‚parallel â”‚    â”‚sequentialâ”‚           â”‚
   â”‚        â”‚   â”‚ (max 3) â”‚    â”‚ (order)  â”‚           â”‚
   â”‚        â”‚   â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜           â”‚
   â”‚        â”‚        â”‚              â”‚                â”‚
   â”‚        â”‚        â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜                â”‚
   â”‚        â”‚               â”‚                        â”‚
   â”‚        â”‚               â–¼                        â”‚
   â”‚        â”‚        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                â”‚
   â”‚        â”‚        â”‚    Executor   â”‚                â”‚
   â”‚        â”‚        â”‚  (goroutines) â”‚                â”‚
   â”‚        â”‚        â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜                â”‚
   â”‚        â”‚                â”‚                        â”‚
   â”‚        â”‚                â–¼                        â”‚
   â”‚        â”‚     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”             â”‚
   â”‚        â”‚     â”‚   Expert Registry   â”‚             â”‚
   â”‚        â”‚     â”‚  â”Œâ”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”   â”‚             â”‚
   â”‚        â”‚     â”‚  â”‚Memo â”‚ â”‚Schedâ”‚   â”‚             â”‚
   â”‚        â”‚     â”‚  â””â”€â”€â”¬â”€â”€â”˜ â””â”€â”€â”¬â”€â”€â”˜   â”‚             â”‚
   â”‚        â”‚     â””â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”˜             â”‚
   â”‚        â”‚           â”‚       â”‚                    â”‚
   â”‚        â”‚           â””â”€â”€â”€â”¬â”€â”€â”€â”˜                    â”‚
   â”‚        â”‚               â”‚                        â”‚
   â”‚        â”‚               â–¼                        â”‚
   â”‚        â”‚     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”             â”‚
   â”‚        â”‚     â”‚    Aggregator       â”‚             â”‚
   â”‚        â”‚     â”‚  (if aggregate=true)â”‚             â”‚
   â”‚        â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜             â”‚
   â”‚        â”‚               â”‚                        â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            â”‚               â”‚
            â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
                    â–¼
            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
            â”‚ Final Response â”‚
            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## é…ç½®æ–‡ä»¶ç»“æ„

```
config/
â”œâ”€â”€ orchestrator/
â”‚   â”œâ”€â”€ decomposer.yaml    # ä»»åŠ¡åˆ†è§£æç¤ºè¯
â”‚   â””â”€â”€ aggregator.yaml    # ç»“æœèšåˆæç¤ºè¯
â”‚
â””â”€â”€ parrots/
    â”œâ”€â”€ memo.yaml          # MemoParrot é…ç½®
    â””â”€â”€ schedule.yaml      # ScheduleParrot é…ç½®
```

---

## å…³é”®è®¾è®¡å†³ç­–

### 1. ä¸¤çº§è·¯ç”±ç­–ç•¥

| å±‚çº§ | ç»„ä»¶         | å»¶è¿Ÿ   | è§¦å‘æ¡ä»¶           |
| ---- | ------------ | ------ | ------------------ |
| L1   | FastRouter   | ~0ms   | ç®€å•æ„å›¾ã€é«˜ç½®ä¿¡åº¦ |
| L2   | Orchestrator | ~400ms | å¤æ‚æ„å›¾ã€å¤šæ„å›¾   |

### 2. ä»»åŠ¡å¹¶è¡ŒåŒ–

```go
// å¹¶è¡Œæ‰§è¡Œæ§åˆ¶
MaxConcurrency: 3
Strategy: goroutine + semaphore

// ä¸²è¡Œæ‰§è¡Œ
Strategy: sequential loop with context check
```

### 3. é™çº§æœºåˆ¶

| åœºæ™¯                | é™çº§ç­–ç•¥               |
| ------------------- | ---------------------- |
| LLM åˆ†è§£å¤±è´¥        | Fallback Plan (å•ä¸“å®¶) |
| LLM èšåˆå¤±è´¥        | ç®€å•æ‹¼æ¥               |
| ä¸“å®¶ä¸å¯ç”¨          | è¿”å›ç©ºè®¡åˆ’             |
| Orchestrator ä¸å¯ç”¨ | FastRouter ç›´æ¥è·¯ç”±    |

---

*æ–‡æ¡£ç‰ˆæœ¬: 1.0 | æ›´æ–°æ—¥æœŸ: 2025-02-12*
